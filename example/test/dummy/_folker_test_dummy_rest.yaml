name: Rest Test
description: Dummy Test for Rest Stage
parallel: true

stages:
  - name: Get all posts
    action:
      type: REST
      method: GET
      host: https://jsonplaceholder.typicode.com
      uri: posts
    assert:
      - '${status_code} is 200'

  - name: Create a post
    action:
      type: REST
      method: POST
      host: https://jsonplaceholder.typicode.com
      uri: posts
      headers:
        Content-Type: application/json
      json:
        title: 'foo'
        body: 'bar'
        userId: 1
    assert:
      - '${status_code} is 201'